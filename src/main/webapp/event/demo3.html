<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Title</title>
<script type="text/javascript" src="../resources/js/jquery.min.js"></script>
</head>
<body>
  <h1>이벤트 연습</h1>

  <form method="post" action="register">
    <div>
      <label>이름</label><br/>
      <input type="text" name="name"/>
    </div>
    <div>
    <!--button을 클릭했을 때 제출이 필요없으면 type="button"으로 지정-->
      <label>경력사항</label> <button type="button" id="btn-add-field">추가</button><br/>
      <input type="text" name="name"/>
    </div>
    <div id="career-box">
      <input type="text" name="name"/><button type="button">-</button><br/>
    </div>
    <div>
      <button type="submit">등록</button>
    </div>
  </form>
<script type="text/javascript">
$(() => {
    // 1. id="btn-add-field" 버튼에 이벤트핸들러 등록하기
    $("#btn-add-field").click(function () {
        let content = `
            <div>
                <input type="text" name="name"/><button type="button">-</button><br/>
            </div>
            `;
        // html 컨텐츠가 추가될 부모엘리먼트를 검색하고 부모엘리먼트가 포함된 jQuery집합객체를 획득하고,
        // append()메소드를 이용해서 지정된 컨텐츠를 자식 컨텐츠로 추가한다.
        $('#career-box').append(content); // 부모의 자식에 추가하는 메소드
    })
    // 2. 삭제버튼에 이벤트핸들러 등록하기
    //$('#career-box button').click((e) => { 이미 존재하는 경우
    $('#career-box').on('click', 'button', function () { // 존재하거나, 미래에 존재하는 경우 이벤트 처리
      $(this).parent().remove();
        alert("삭제됐다");
    })
})
</script>
</body>
</html>